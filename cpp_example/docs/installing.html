<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Adobe Bridge SDK External Object Sample</title>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<style type="text/css">body { background-color: white }</style>
<link rel="stylesheet" href="adobe.css" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body vlink="#996666" alink="#CC0000" leftmargin="24px" marginheight=
"0" marginwidth="0" topmargin="0">
<div id="overDiv" style=
"Z-INDEX:1000; VISIBILITY:hidden; POSITION:absolute"></div>
<a name="top"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" ID="Table1">
<tr>
<td><img src="eo.gif" alt="" height="80" width="750"
border="0" usemap="#topnavmap"></td>
<td width="100%" bgcolor="#CECECE">&nbsp;</td>
</tr>
</table>
<map name="topnavmap">
<area shape="rect" coords="10,10,50,60" href=
"http://www.adobe.com/" alt="Adobe.com">
</map>
<table border="0" cellpadding="0" cellspacing="0" width="745" ID="Table2">
<tr height="30">
<td width="15" height="30"><spacer type="block" width="15" height=
"30"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" ID="Table3">
<tr>
<td width="15"><spacer type="block" width="15" height="10"></td>
<td><!-- ENDHEADER -->
<!-- start-section: -->
<table border="0" cellpadding="5" cellspacing="5" id=
"ip-doxy-navbar">
<tr>
<td valign="bottom"><a class="qindex" href=
"index.html">Contents</a></td>
<td valign="bottom"><a class="qindex" href="files.html">
Files</a></td>
</tr>
</table>
<!-- end-section: -->
<!-- Generated by Doxygen 1.5.1-p1 -->
<h1><a class="anchor" name="installing">Installing External Objects</a></h1><h2><a class="anchor" name="intro_sec">
Introduction</a></h2>
These pages describe getting started with external objects, which you can use to extend the ExtendScript DOM and call into shared libraries of your own written in C/C++.<p>
External objects are a key extensibility pattern for Adobe Bridge 2021 and other Adobe applications that integrate ExtendScript. You might want to use them to call into your own existing platform-native libraries or exploit the ability to call into C/C++ code of your own from a scripting context.<h2><a class="anchor" name="create_sec">
Installing a Compiled External Object</a></h2>
<h3><a class="anchor" name="step1">
Step 1: Installing</a></h3>
The External Objects sample should compile and work with the libraries (DLLs or frameworks) in the locations that they are compiled to; this is where the sample JavaScript files provided expect the libraries to be located.<p>
Once you have successfully compiled and tested the sample code with the provided sample scripts, you should be aware of the recommended deployment pattern for Bridge extensions like your External Object library, which is effectively a plug-in to Bridge. If you change the location of the libraries to this location, be sure to change the paths in JavaScript files that load the libraries accordingly.<p>
The recommended location for Bridge extensions is in the Bridge 2021 Extensions directory, which is shared by all users on a machine. All resources for an extension, including scripts, images and shared libraries, should be grouped in a directory and placed placed in:<p>
<ul>
<li><b>Win</b> - %CommonProgramFiles%/Adobe/Bridge 2021 Extensions/</li>
</ul>
<ul>
<li><b>Mac</b> - /Library/Application Support/Adobe/Bridge 2021 Extensions/</li>
</ul>
The recommended structure for the directory that holds a Bridge extension "MyExtension" (a placeholder for the real name of your extension) would be similar to this:<p>
<div class="fragment"><pre class="fragment">
   Bridge 2021 Extensions/
     MyExtension/
        MyExtension.jsx
        Read Me.txt
        manifest.xml
        Resources/
           Images/
              myext.png
           Scripts/
              001_myext.jsx
              002_myext.jsx
           Plugins/
              myext.dll
  </pre></div><p>
For the file in the example above named "MyExtension.jsx" to be loaded by Bridge on startup, it has to be in a folder that is an immediate child of the "Bridge 2021 Extensions" folder. However, the library can be placed anywhere in the file system as long as the correct path is used when instantiating an ExternalObject. It is recommended to place the library encapsulating your ExternalObject in a Plugins folder within your extension folder.<h3><a class="anchor" name="step2">
Step 2: Loading and Unloading</a></h3>
To load an external library from JavaScript, use the ExternalObject constructor: <div class="fragment"><pre class="fragment"> var myObj = <span class="keyword">new</span> ExternalObject (<span class="stringliteral">"lib:"</span> + libName); 
</pre></div><p>
The constructor can take an arbitrary number of arguments, which are passed on to the library's initialization routine:<p>
<div class="fragment"><pre class="fragment"> myObj = <span class="keyword">new</span> ExternalObject (<span class="stringliteral">"lib:"</span> + libName, arg1, arg2); 
</pre></div><p>
The specifier "lib:" is case sensitive. The library name can be the base name of the shared library as well as include the path to the library: Note: the ExternalObject architecture in future may be extended to wrap other types of external data; at present "lib:" is the marker for dynamically linked libraries.<p>
<div class="fragment"><pre class="fragment">  var libName = <span class="stringliteral">"C:\myLibraries\myLib.dll"</span>;
  var myObj = <span class="keyword">new</span> ExternalObject (<span class="stringliteral">"lib:"</span> + libName);
</pre></div><p>
If the loader cannot load the library by its given name, it appends a file extension according to the operating system:<p>
<ul>
<li>Windows: .DLL </li>
<li>Mac: .framework</li>
</ul>
If the library name does not contain a path specifier, but just the name of the library, then the loader first looks into the current folder for the library, which will be the application startup folder. If attaching the default extension does not work, the loader will then check the plug-ins folder within the program startup folder, Bridge for example would be:<p>
<ul>
<li><b>Win</b> - C:/Program Files/Adobe/Adobe Bridge 2021/Plug-Ins</li>
</ul>
<ul>
<li><b>Mac</b> - /Applicationw/Adobe Bridge 2021/Plug-Ins</li>
</ul>
If you are following the recommendations above and using the Bridge 2021 Extensions directory, the library could be loaded as follows from a script executing from the root level of your "MyExtensions" folder, by writing: <div class="fragment"><pre class="fragment">  Folder.current = File ($.fileName).parent;
  var myLib = <span class="keyword">new</span> ExternalObject(<span class="stringliteral">"lib:Plugins/myLib.dll"</span>);
</pre></div><p>
To unload a library, call the object's unload() method. This method unloads the library and leaves the object in an invalid state. Any attempts to access properties or methods of the library object once unloaded result in a runtime error. <div class="fragment"><pre class="fragment">  myLib.unload();
</pre></div><p>
See <a class="el" href="sampleprojects.html">Using the Sample Projects</a> for information on how to find the sample projects<p>
See <a class="el" href="basicexernalobject_p.html">Using the BasicExternalObject Sample</a> for information on how to build the External Object sample<p>
See <a class="el" href="samplelib_p.html">Using the SampleLib Example</a> for information on how to build the Sample Lib sample <table border="0" cellpadding="5" cellspacing="5" id=
"ip-doxy-navbar">
<tr>
<td valign="bottom"><a class="qindex" href=
"index.html">Contents</a></td>
<td valign="bottom"><a class="qindex" href="files.html">
Files</a></td>
</tr>
</table>
</td>
</tr>
<!-- </table> --></table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table3">
<tr height="30">
<td colspan="3" height="30"><spacer type="block" height="30"></td>
</tr>
<tr height="45">
<td width="20"><spacer type="block" width="20" height="45"></td>
<td width="115"><a href="http://www.adobe.com/partners"><img src="asn.gif" width="114"
height="45" border="0" alt="Adobe Solutions Network"></a></td>
<td width="610"><spacer type="block" width="610" height="45"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table4">
<tr height="10">
<td width="20" height="10"><spacer type="block" width="20" height=
"10"></td>
<td width="705" height="10"><spacer type="block" height="10"></td>
<td width="20" height="10"><spacer type="blockheight=10"></td>
</tr>
<tr height="3">
<td width="10" align="right"><spacer type="block" width="10"
height="1"></td>
<td width="705" background="1dot.gif" alt=""><spacer type="block"
width="1" height="3"></td>
<td width="10"><spacer type="block" width="10" height="1"></td>
</tr>
<tr height="10">
<td colspan="3"><spacer type="block" height="10"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table5">
<tr>
<td width="20">&nbsp;</td>
<td width="725" valign="top">
<table border="0" cellpadding="0" cellspacing="0" id="Table6">
<tr>
<td colspan="13" valign="top" align="left" class="bio">Copyright
&#169; 2012 Adobe Systems Incorporated. All rights reserved.</td>
</tr>
<tr height="3">
<td colspan="13" height="3"><spacer type="block" width="20" height=
"3"></td>
</tr>
<tr>
<td valign="top"><a href="http://www.adobe.com/misc/copyright.html"
class="footerlink">Terms of Use</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://www.adobe.com/misc/privacy.html"
class="footerlink">Online Privacy Policy</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://access.adobe.com" class=
"footerlink">Adobe and accessibility</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href=
"http://www.adobe.com/aboutadobe/antipiracy/main.html" class=
"footerlink">Avoid software piracy</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://www.adobe.com/misc/agreement.html"
class="footerlink">Permissions and Trademarks</a></td>
</tr>
<tr height="40">
<td colspan="12" height="40"><spacer type="block" width="20"
height="40"></td>
<td height="40"><img src="1ptrans.gif" width="20" height=
"40">&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
</body>
</html>
